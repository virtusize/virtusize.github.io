

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Integration &mdash; Virtusize developer docs 1.1 ドキュメント</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'1.1',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="../_static/js/virtusize.js"></script>
      <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  

  
  
    <link rel="stylesheet" href="../_static/css/virtusize.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="Virtusize developer docs 1.1 ドキュメント" href="../index.html"/>
        <link rel="up" title="Integration guide" href="../integration-guide.html"/>
        <link rel="next" title="Javascript API" href="javascript-api.html"/>
        <link rel="prev" title="Providing Measurements" href="measurements.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="icon icon-home"> Virtusize developer docs</a>
        <form class="wy-form" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../integration-guide.html">Integration guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction ja</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="product-types.html">Product Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="measurements.html">Providing Measurements</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript-api.html">Javascript API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../order-confirmation.html">Order confirmation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../order-confirmation/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../order-confirmation/order-api.html">Order API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../order-confirmation/complete-example.html">Complete example</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">Virtusize developer docs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="../index.html">Docs</a> &raquo;</li>
  <li><a href="">Integration</a></li>
  
</ul>
<hr/>

          
  <div class="section" id="integration">
<h1>Integration<a class="headerlink" href="#integration" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><strong>Dependencies</strong></p>
<p>At this moment, the integration has only one dependency, jQuery 1.3 or later.
If jQuery is not found on the page, the integration script will asynchronously
load jQuery from the Google CDN (this will not slow down the page as it is done
asynchronously and most clients already have it cached).</p>
<p><strong>Asynchronous loading</strong></p>
<p>All script loading is done asynchronously, minimizing the impact on the load
speed of the product page. The integration snippet is inspired by the
asynchronous loading done by Google Analytics, FB Connect, Google+ and others.
In the unlikely event of Virtusize servers experiencing down time, the product
page will not be impacted other than that the button won&#8217;t show.</p>
<div class="section" id="single-product-integration">
<span id="label-single-product-integration"></span><h2>Single Product Integration<a class="headerlink" href="#single-product-integration" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="embedding-the-integration-snippet">
<h3>Embedding the integration snippet<a class="headerlink" href="#embedding-the-integration-snippet" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Integrating the Virtusize Widget requires embedding an integration
script on the product page. The code is very similar to Google Analytics
or Facebook Connect.</p>
<script src="https://gist.github.com/butschi/5619646.js">&nbsp;</script><div class="admonition note">
<p class="first admonition-title">ノート</p>
<p class="last">Note that line 5 defines an API key to use. The value within quotes should
be your actual API key that you get when you sign up for Virtusize.</p>
</div>
</div>
<div class="section" id="positioning-the-button">
<h3>Positioning the button<a class="headerlink" href="#positioning-the-button" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The position of the button is configured by including an empty div
element with id &#8220;#vs-widget-button-container&#8221; anywhere on the product
page.</p>
<script src="https://gist.github.com/butschi/5619736.js">&nbsp;</script><p>The button will be created inside the #vs-widget-button-container
element. The integration script is responsible for creating the button.</p>
<p>For the standard integration, the measurements are provided to Virtusize via
the Virtusize admin interface (see <a class="reference internal" href="measurements.html#label-providing-measurements"><em>Providing Measurements</em></a>), and
the integration snippet only needs the unique product ID to identify what
measurements to use.  That is what line 6 does. The value <tt class="docutils literal"><span class="pre">PRODUCT_ID</span></tt> should
be the actual identifier of the product.</p>
<div class="admonition note">
<p class="first admonition-title">ノート</p>
<p class="last">Note that for best results, the product id should be an identifier that
identifies the product regardless of size and color.</p>
</div>
<p>No button will be visible on the product page until the integration snippet can
find the measurements for the product (until they are provided to Virtusize via
our admin or via the measurements feed).</p>
</div>
</div>
<div class="section" id="multiple-product-integration">
<h2>Multiple Product Integration<a class="headerlink" href="#multiple-product-integration" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>It is possible to have widget buttons for more than one product per page. This
is needed for &#8220;Buy-this-outfit&#8221; kind of pages, for example.</p>
<p>The integration is very similiar to the one for single product pages.  All you
have to do, is supply the product ids and corresponding button position
strategies, to indicate, which button is used for which product.</p>
<p>The <tt class="docutils literal"><span class="pre">vsWidgetAsyncInit</span></tt> variable, that is a function in the single product
case, also accepts an array of functions.</p>
<script src="https://gist.github.com/butschi/5619699.js">&nbsp;</script><p>Make sure the products exist in the Virtusize database and the button
containers containers exist on your page.</p>
</div>
<div class="section" id="using-a-custom-button">
<h2>Using a custom button<a class="headerlink" href="#using-a-custom-button" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>You can use any DOM element on your website as the Virtusize button.
This gives you full control over the design of the button.</p>
<p>The Virtusize integration script still performs all product data and
environment checks prior to showing the button. The button will behave
the same way as the default one.</p>
<div class="admonition note">
<p class="first admonition-title">ノート</p>
<p class="last">The button will be set to <tt class="docutils literal"><span class="pre">visibility:</span> <span class="pre">hidden;</span></tt> on load. Only when all
checks pass will the button be shown. To prevent some flickering that may
occur you can set the initial visibility of the button to hidden.</p>
</div>
<div class="section" id="example-integration">
<h3>Example integration:<a class="headerlink" href="#example-integration" title="このヘッドラインへのパーマリンク">¶</a></h3>
<script src="https://gist.github.com/butschi/5684927.js">&nbsp;</script><p>Here the convenience method <tt class="docutils literal"><span class="pre">setButton(…)</span></tt> is used. To find out what other
methods exist on the VirtusizeWidget object, go to <a class="reference internal" href="javascript-api.html#label-javascript-api"><em>Javascript API</em></a>.</p>
</div>
</div>
<div class="section" id="staging-environment">
<h2>Staging Environment<a class="headerlink" href="#staging-environment" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>We have a staging environment that can be used during the development
and testing phase. Just point the integration script to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">staging</span><span class="o">.</span><span class="n">virtusize</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>instead of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">api</span><span class="o">.</span><span class="n">virtusize</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>Here is a sample how to configure this so the environment is controlled
by a variable:</p>
<script src="https://gist.github.com/jtsoi/2173ec22f70e8eee5664.js">&nbsp;</script></div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="verifying-integration">
<h3>Verifying integration<a class="headerlink" href="#verifying-integration" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>To check if the integration is successful or not, navigate your browser
to a product page. Append the string <tt class="docutils literal"><span class="pre">#hasVsWidget?</span></tt> to the url in the
address bar.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre>http://www.example.com/products/28657
</pre></div>
</div>
<p>becomes:</p>
<div class="highlight-python"><div class="highlight"><pre>http://www.example.com/products/28657#hasVsWidget?
</pre></div>
</div>
<p>Press the enter-key to confirm and then hit the reload button on the
browser to reload the page. If the integration was successful, you will
get a popup indicating precisely that.</p>
</div>
<div class="section" id="button-not-showing">
<h3>Button not showing<a class="headerlink" href="#button-not-showing" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The button is only shown, if there is a valid product found in the
Virtusize database or supplied in any other way. Make sure that there is
a valid product.</p>
</div>
</div>
</div>


          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="javascript-api.html" class="btn btn-neutral float-right" title="Javascript API"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="measurements.html" class="btn btn-neutral" title="Providing Measurements"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <p>
      &copy; Copyright 2014, Virtusize.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="icon icon-globe"> Switch language</span>
        <span class="icon icon-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Languages</dt>
            <dd>
                <a href="http://developers.virtusize.com/">English</a>
            </dd>
            <!-- TODO: comment this in, as soon as Japanese is ready
            <dd>
                <a href="http://developers.virtusize.com/ja/">Japanese</a>
            </dd>
            -->
        </dl>
        <hr/>
        Developer documentation by <a href="http://www.virtusize.com/">Virtusize</a>.
    </div>
</div>

</body>
</html>